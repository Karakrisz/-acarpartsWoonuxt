import{d as M,N as E,$ as q,I as y,b,o as v,c as D,t as T,i as C,p as L,O,u as _,K as R,V as A,h as B,w as N,a as k,f as U,e as F,n as H,g as z}from"./B33GKiR2.js";import{_ as G}from"./B1hGwQU2.js";const K={key:0,class:"red-badge"},Q=M({__name:"SaleBadge",props:{node:{type:Object,required:!0}},setup(e){const{t:r}=E(),{storeSettings:o}=q(),i=y(()=>{var g,f,p,t;if(!((g=e.node)!=null&&g.rawSalePrice)||!((f=e.node)!=null&&f.rawRegularPrice))return"";const m=parseFloat((p=e.node)==null?void 0:p.rawSalePrice),u=parseFloat((t=e.node)==null?void 0:t.rawRegularPrice);return Math.round((m-u)/u*100)+" %"}),c=y(()=>e.node.rawSalePrice&&o.saleBadge!=="hidden"),w=y(()=>(o==null?void 0:o.saleBadge)==="percent"?i.value:r("messages.shop.onSale")?r("messages.shop.onSale"):"Sale");return(m,u)=>b(c)?(v(),D("span",K,T(b(w)),1)):C("",!0)}}),J=L(Q,[["__scopeId","data-v-395a4e44"]]),W={class:"flex flex-col gap-[20px]"},X=["innerHTML"],ee=M({__name:"ProductCard",props:{node:{type:Object,required:!0},index:{type:Number,default:1}},setup(e){var u,g,f,p;const r=O();q(),_();const o=e,i=R((u=r.query)==null?void 0:u.filter),c=R(((p=(f=(g=i.value)==null?void 0:g.split("pa_color[")[1])==null?void 0:f.split("]")[0])==null?void 0:p.split(","))||[]);A(()=>r.query,()=>{var t,a,n;i.value=r.query.filter,c.value=((n=(a=(t=i.value)==null?void 0:t.split("pa_color[")[1])==null?void 0:a.split("]")[0])==null?void 0:n.split(","))||[]});const w=y(()=>{var t,a,n,s;return((a=(t=o.node)==null?void 0:t.image)==null?void 0:a.producCardSourceUrl)||((s=(n=o.node)==null?void 0:n.image)==null?void 0:s.sourceUrl)||"/images/placeholder.jpg"}),m=y(()=>{var t,a,n,s,d,P;if(c.value.length){const l=(a=(t=o.node)==null?void 0:t.variations)==null?void 0:a.nodes.filter(h=>{var $;const V=($=h.attributes)==null?void 0:$.nodes.some(x=>c.value.some(S=>{var I;return(I=x==null?void 0:x.value)==null?void 0:I.includes(S)})),j=c.value.some(x=>{var S;return(S=h.slug)==null?void 0:S.includes(x)});return V||j});if(l!=null&&l.length)return((s=(n=l[0])==null?void 0:n.image)==null?void 0:s.producCardSourceUrl)||((P=(d=l[0])==null?void 0:d.image)==null?void 0:P.sourceUrl)||w.value}return w.value});return(t,a)=>{const n=H,s=J,d=z,P=G;return v(),D("div",W,[e.node.slug?(v(),B(d,{key:0,to:`/product/${decodeURIComponent(e.node.slug)}`,title:e.node.name,class:"w-full max-h-[216px] relative overflow-hidden grow-0"},{default:N(()=>{var l,h;return[b(m)?(v(),B(n,{key:0,src:b(m),alt:((l=e.node.image)==null?void 0:l.altText)||e.node.name||"Product image",title:((h=e.node.image)==null?void 0:h.title)||e.node.name,loading:e.index<=3?"eager":"lazy",class:"object-cover w-full h-full transition hover:scale-105 duration-300",placeholder:"","placeholder-class":"blur-xl"},null,8,["src","alt","title","loading"])):C("",!0),k(s,{node:e.node,class:"absolute top-2 right-2"},null,8,["node"])]}),_:1},8,["to","title"])):C("",!0),k(d,{class:"text-[20px] font-bold uppercase hover:text-stone-700 transition",to:`/product/${decodeURIComponent(e.node.slug)}`,title:e.node.name},{default:N(()=>[U(T(e.node.name),1)]),_:1},8,["to","title"]),k(P,{class:"text-sm","sale-price":e.node.salePrice,"regular-price":e.node.regularPrice},null,8,["sale-price","regular-price"]),F("div",{class:"text-[14px] leading-[150%] flex-1",innerHTML:e.node.shortDescription},null,8,X),e.node.slug?(v(),B(d,{key:1,to:`/product/${decodeURIComponent(e.node.slug)}`,title:e.node.name,class:"w-full button button-primary"},{default:N(()=>a[0]||(a[0]=[U("MEGRENDELÃ‰S")])),_:1},8,["to","title"])):C("",!0)])}}});export{J as _,ee as a};
