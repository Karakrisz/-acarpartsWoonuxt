import{d as Y,u as N,m as z,I as h,K as L,V as R,o as k,c as C,e as y,a as b,b as n,C as G,D as K,L as H,_ as U,p as X,W as Z,X as J,Y as O,E as V,M as ee,Z as te,i as $,$ as ne,h as oe,w as j,f as se,t as B,n as ae,g as re}from"./B33GKiR2.js";import{_ as ie}from"./B1hGwQU2.js";import{u as le}from"./02XNVmx1.js";const ce={class:"flex rounded bg-white text-sm leading-none shadow-sm shadow-stone-200 isolate"},ue=["disabled"],de=["max"],pe=["disabled"],me=Y({__name:"QuantityInput",props:{item:{type:Object,required:!0}},setup(e){const{updateItemQuantity:s,isUpdatingCart:a,cart:u}=N(),{debounce:v}=z(),t=h(()=>{var r,i;return e.item.variation?(r=e.item.variation)==null?void 0:r.node:(i=e.item.product)==null?void 0:i.node}),o=L(e.item.quantity),g=h(()=>t.value.stockQuantity?t.value.stockQuantity<=o.value:!1),_=()=>o.value++,m=()=>o.value--;R(o,v(()=>{o.value!==""&&s(e.item.key,o.value)},250));const d=()=>{var r,i,c;if(o.value===""){const p=(c=(i=(r=u.value)==null?void 0:r.contents)==null?void 0:i.nodes)==null?void 0:c.find(f=>f.key===e.item.key);p&&(o.value=p.quantity)}};return(r,i)=>{const c=U;return k(),C("div",ce,[y("button",{title:"Decrease Quantity","aria-label":"Decrease Quantity",onClick:m,type:"button",class:"focus:outline-none border-r w-10 h-10 border rounded-l border-stone-300 hover:bg-stone-50 disabled:cursor-not-allowed",disabled:n(a)||n(o)<=0},[b(c,{name:"ion:remove",size:"14"})],8,ue),G(y("input",{"onUpdate:modelValue":i[0]||(i[0]=p=>H(o)?o.value=p:null),type:"number",min:"0",max:n(t).stockQuantity,"aria-label":"Quantity",onFocusout:d,class:"flex items-center text-center justify-center w-10 px-2 text-xs focus:outline-none border-y border-stone-300"},null,40,de),[[K,n(o),void 0,{number:!0}]]),y("button",{title:"Increase Quantity","aria-label":"Increase Quantity",onClick:_,type:"button",class:"focus:outline-none border-l w-10 h-10 border rounded-r hover:bg-stone-50 border-stone-300 disabled:cursor-not-allowed disabled:bg-stone-100",disabled:n(a)||n(g)},[b(c,{name:"ion:add",size:"14"})],8,pe)])}}}),fe=X(me,[["__scopeId","data-v-feb5eec6"]]),ve={},he={xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 512 512"};function _e(e,s){return k(),C("svg",he,s[0]||(s[0]=[y("path",{d:"M112 112l20 320c.95 18.49 14.4 32 32 32h184c17.67 0 30.87-13.51 32-32l20-320",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),y("path",{stroke:"currentColor","stroke-linecap":"round","stroke-miterlimit":"10","stroke-width":"32",d:"M80 112h352"},null,-1),y("path",{d:"M192 112V72h0a23.93 23.93 0 0124-24h80a23.93 23.93 0 0124 24h0v40M256 176v224M184 176l8 224M328 176l-8 224",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1)]))}const ye=X(ve,[["render",_e]]);function ge(e){return Z()?(J(e),!0):!1}function q(e){return typeof e=="function"?e():n(e)}const xe=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const be=Object.prototype.toString,we=e=>be.call(e)==="[object Object]",D=()=>{},F=xe?window:void 0;function ke(e){var s;const a=q(e);return(s=a==null?void 0:a.$el)!=null?s:a}function W(...e){let s,a,u,v;if(typeof e[0]=="string"||Array.isArray(e[0])?([a,u,v]=e,s=F):[s,a,u,v]=e,!s)return D;Array.isArray(a)||(a=[a]),Array.isArray(u)||(u=[u]);const t=[],o=()=>{t.forEach(d=>d()),t.length=0},g=(d,r,i,c)=>(d.addEventListener(r,i,c),()=>d.removeEventListener(r,i,c)),_=R(()=>[ke(s),q(v)],([d,r])=>{if(o(),!d)return;const i=we(r)?{...r}:r;t.push(...a.flatMap(c=>u.map(p=>g(d,c,p,i))))},{immediate:!0,flush:"post"}),m=()=>{_(),o()};return ge(m),m}function Se(e,s={}){const{threshold:a=50,onSwipe:u,onSwipeEnd:v,onSwipeStart:t,passive:o=!0,window:g=F}=s,_=O({x:0,y:0}),m=O({x:0,y:0}),d=h(()=>_.x-m.x),r=h(()=>_.y-m.y),{max:i,abs:c}=Math,p=h(()=>i(c(d.value),c(r.value))>=a),f=L(!1),S=h(()=>p.value?c(d.value)>c(r.value)?d.value>0?"left":"right":r.value>0?"up":"down":"none"),E=l=>[l.touches[0].clientX,l.touches[0].clientY],A=(l,w)=>{_.x=l,_.y=w},Q=(l,w)=>{m.x=l,m.y=w};let x;const I=Ce(g==null?void 0:g.document);o?x=I?{passive:!0}:{capture:!1}:x=I?{passive:!1,capture:!0}:{capture:!0};const M=l=>{f.value&&(v==null||v(l,S.value)),f.value=!1},P=[W(e,"touchstart",l=>{if(l.touches.length!==1)return;x.capture&&!x.passive&&l.preventDefault();const[w,T]=E(l);A(w,T),Q(w,T),t==null||t(l)},x),W(e,"touchmove",l=>{if(l.touches.length!==1)return;const[w,T]=E(l);Q(w,T),!f.value&&p.value&&(f.value=!0),f.value&&(u==null||u(l))},x),W(e,["touchend","touchcancel"],M,x)];return{isPassiveEventSupported:I,isSwiping:f,direction:S,coordsStart:_,coordsEnd:m,lengthX:d,lengthY:r,stop:()=>P.forEach(l=>l())}}function Ce(e){if(!e)return!1;let s=!1;const a={get passive(){return s=!0,!1}};return e.addEventListener("x",D,a),e.removeEventListener("x",D),s}const Ee={key:0,class:"rounded-lg flex h-24 w-full overflow-hidden relative items-center"},Ie={__name:"SwipeCard",emits:["remove"],setup(e,{emit:s}){const a=s,u=L(!0),v=L(null),{isSwiping:t,lengthX:o}=Se(v,{passive:!0,onSwipeEnd(){o.value>80&&(u.value=!1,a("remove"))}});return(g,_)=>{const m=ye;return n(u)?(k(),C("div",Ee,[b(m,{class:V(["transform transition-all right-0 w-6 scale-0 absolute",{"scale-100":n(o)>40,"delete-ready":n(o)>80}])},null,8,["class"]),y("div",{ref_key:"el",ref:v,class:V(["rounded-lg inset-0 absolute",{"transition-all":!n(t)}]),style:te({transform:n(t)?`translateX(-${n(o)}px)`:"none"})},[ee(g.$slots,"default")],6)])):$("",!0)}}},$e={key:0,class:"flex items-center gap-3 group"},Qe={class:"flex-1"},Me={class:"flex gap-x-2 gap-y-1 flex-wrap items-center"},Pe={key:0,class:"text-[10px] border-green-200 leading-none bg-green-100 inline-block p-0.5 rounded text-green-600 border"},Te={key:1,class:"text-[10px] border-yellow-200 leading-none bg-yellow-100 inline-block p-0.5 rounded text-orange-500 border"},Le={class:"inline-flex gap-2 flex-col items-end"},Ae={class:"text-xs text-stone-400 flex leading-none items-center"},Ve={__name:"CartCard",props:{item:{type:Object,required:!0}},setup(e){const{updateItemQuantity:s}=N(),{addToWishlist:a}=le(),{FALLBACK_IMG:u}=z(),{storeSettings:v}=ne(),t=h(()=>{var p,f;return e.item.variation?(p=e.item.variation)==null?void 0:p.node:(f=e.item.product)==null?void 0:f.node}),o=h(()=>`/product/${decodeURIComponent(e.item.product.node.slug)}`),g=h(()=>t.value.stockQuantity?t.value.lowStockAmount>=t.value.stockQuantity:!1),_=h(()=>{var p,f,S;return((p=t.value.image)==null?void 0:p.cartSourceUrl)||((f=t.value.image)==null?void 0:f.sourceUrl)||((S=e.item.product.image)==null?void 0:S.sourceUrl)||u}),m=h(()=>parseFloat(t.value.rawRegularPrice)),d=h(()=>parseFloat(t.value.rawSalePrice)),r=h(()=>Math.round((m.value-d.value)/m.value*100)+"%"),i=()=>{s(e.item.key,0)},c=()=>{a(e.item.product.node),i()};return(p,f)=>{const S=ae,E=re,A=ie,Q=fe,x=U,I=Ie;return k(),oe(I,{onRemove:i},{default:j(()=>[n(t)?(k(),C("div",$e,[b(E,{to:n(o)},{default:j(()=>{var M,P;return[b(S,{width:"64",height:"64",class:"w-16 h-16 rounded-md skeleton",src:n(_),alt:((M=n(t).image)==null?void 0:M.altText)||n(t).name,title:((P=n(t).image)==null?void 0:P.title)||n(t).name,loading:"lazy"},null,8,["src","alt","title"])]}),_:1},8,["to"]),y("div",Qe,[y("div",Me,[b(E,{class:"leading-tight",to:n(o)},{default:j(()=>[se(B(n(t).name),1)]),_:1},8,["to"]),n(t).salePrice?(k(),C("span",Pe," Megtakarítás "+B(n(r)),1)):$("",!0),n(g)?(k(),C("span",Te," Low Stock ")):$("",!0)]),b(A,{class:"text-xs","sale-price":n(t).salePrice,"regular-price":n(t).regularPrice},null,8,["sale-price","regular-price"])]),y("div",Le,[b(Q,{item:e.item},null,8,["item"]),y("div",Ae,[n(v).showMoveToWishlist?(k(),C("button",{key:0,class:"mr-2 pr-2 border-r hover:text-dark",type:"button",onClick:c},"Kívánságlistára")):$("",!0),y("button",{title:"Remove Item","aria-label":"Remove Item",type:"button",class:"flex items-center gap-1 hover:text-red-500 cursor-pointer",onClick:i},[b(x,{name:"ion:trash",class:"hidden md:inline-block",size:"12"})])])])])):$("",!0)]),_:1})}}};export{ye as _,Ve as a};
