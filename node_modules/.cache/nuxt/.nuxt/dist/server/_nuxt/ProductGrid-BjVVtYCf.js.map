{"version":3,"file":"ProductGrid-BjVVtYCf.js","sources":["../../../../../../../woonuxt_base/app/components/shopElements/OrderByDropdown.vue","../../../../../../../woonuxt_base/app/components/filtering/PriceFilter.vue","../../../../../../../woonuxt_base/app/components/filtering/CategoryFilter.vue","../../../../../../../woonuxt_base/app/components/filtering/ColorFilter.vue","../../../../../../../woonuxt_base/app/components/filtering/GlobalFilter.vue","../../../../../../../woonuxt_base/app/components/filtering/OnSaleFilter.vue","../../../../../../../woonuxt_base/app/components/filtering/Filters.vue","../../../../../../../woonuxt_base/app/components/shopElements/ProductResultCount.vue","../../../../../../../woonuxt_base/app/components/filtering/ShowFilterTrigger.vue","../../../../../../../woonuxt_base/app/components/shopElements/Pagination.vue","../../../../../../../woonuxt_base/app/components/shopElements/NoProductsFound.vue","../../../../../../../woonuxt_base/app/components/shopElements/ProductGrid.vue"],"sourcesContent":["<script setup>\nconst { getOrderQuery, setOrderQuery } = await useSorting();\nconst { storeSettings } = useAppConfig();\nconst selectedOrder = ref(getOrderQuery());\nconst orderby = ref(selectedOrder.value.orderBy || 'date');\nconst order = ref(selectedOrder.value.order);\n\n// Update the URL when the checkbox is changed\nwatch([orderby, order], () => {\n  setOrderQuery(orderby.value, order.value);\n});\n</script>\n\n<template>\n  <div class=\"inline-flex ml-auto -space-x-px shadow-sm rounded-m isolate\">\n    <button\n      class=\"relative inline-flex items-center p-2 text-sm font-medium text-stone-500 bg-white border border-stone-300 rounded-l-md hover:bg-stone-50 focus:z-20\"\n      aria-label=\"Sort\"\n      @click=\"order = order === 'ASC' ? 'DESC' : 'ASC'\">\n      <Icon name=\"ion:filter-outline\" size=\"18\" :class=\"order === 'ASC' ? 'rotate-180' : ''\" class=\"transition-transform transform transform-origin-center\" />\n    </button>\n    <select v-model=\"orderby\" class=\"bg-white rounded-l-none\" aria-label=\"Order by\">\n      <option value=\"date\">{{ $t('messages.general.latest') }}</option>\n      <option value=\"alphabetically\">{{ $t('messages.general.alphabetically') }}</option>\n      <option value=\"price\">{{ $t('messages.shop.price') }}</option>\n      <option v-if=\"storeSettings.showReviews\" value=\"rating\">{{ $t('messages.shop.rating') }}</option>\n      <option value=\"discount\">{{ $t('messages.shop.discount') }}</option>\n    </select>\n  </div>\n</template>\n","<script setup>\nimport Slider from '@vueform/slider';\n\nconst { getFilter, setFilter, isFiltersActive } = useFiltering();\nconst runtimeConfig = useRuntimeConfig();\nconst maxPrice = runtimeConfig?.public?.MAX_PRICE || 1000;\nconst currencySymbol = runtimeConfig?.public?.CURRENCY_SYMBOL || '$';\n\nconst activeFilters = ref(getFilter('price'));\nconst price = activeFilters.value.length ? ref(activeFilters.value) : ref([0, maxPrice]);\nconst isOpen = ref(true);\n\nconst resetSlider = () => {\n  price.value = [0, maxPrice];\n};\n\nconst applyPrice = () => {\n  setFilter('price', price.value);\n};\n\nwatch(isFiltersActive, () => {\n  if (!isFiltersActive.value) resetSlider();\n});\n</script>\n\n<template>\n  <div>\n    <div class=\"cursor-pointer flex font-semibold mt-8 leading-none justify-between items-center\" @click=\"isOpen = !isOpen\">\n      <span>{{ $t('messages.shop.price') }}</span>\n      <Icon name=\"ion:chevron-down-outline\" class=\"transform\" :class=\"isOpen ? 'rotate-180' : ''\" />\n    </div>\n    <div v-show=\"isOpen\" class=\"mt-3 grid gap-4 grid-cols-2\">\n      <div class=\"flex relative items-center\">\n        <input\n          id=\"price-from\"\n          v-model=\"price[0]\"\n          class=\"bg-white border rounded-lg max-w-full border-stone-200 leading-none w-auto p-2 pl-6 md:text-sm\"\n          type=\"number\"\n          placeholder=\"From\"\n          min=\"0\" >\n        <label for=\"price-from\" class=\"leading-none px-2 text-stone-400 absolute\" v-html=\"currencySymbol\" />\n      </div>\n      <div class=\"flex relative items-center\">\n        <input\n          id=\"price-to\"\n          v-model=\"price[1]\"\n          class=\"bg-white border rounded-lg max-w-full border-stone-200 leading-none w-auto p-2 pl-6 md:text-sm\"\n          type=\"number\"\n          placeholder=\"Up to\"\n          min=\"1\" >\n        <label for=\"price-to\" class=\"leading-none px-2 text-stone-400 absolute\" v-html=\"currencySymbol\" />\n      </div>\n      <div class=\"mx-1 mt-1 col-span-full\">\n        <Slider v-model=\"price\" :tooltips=\"false\" :min=\"0\" :max=\"maxPrice\" aria-labelledby=\"price-from price-to\" @update=\"applyPrice\" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<style src=\"@vueform/slider/themes/default.css\"></style>\n","<script setup>\nconst { getFilter, setFilter, isFiltersActive } = useFiltering();\n\nconst props = defineProps({\n  terms: { type: Array, required: true },\n  label: { type: String, default: '' },\n  openByDefault: { type: Boolean, default: true },\n  showCount: { type: Boolean, default: false },\n});\n\nconst isOpen = ref(props.openByDefault);\nconst selectedTerms = ref(getFilter('category') || []);\n\nconst route = useRoute();\nconst categorySlug = route.params.categorySlug;\nif (categorySlug) selectedTerms.value = [categorySlug];\n\nwatch(isFiltersActive, () => {\n  // uncheck all checkboxes when filters are cleared\n  if (!isFiltersActive.value) selectedTerms.value = [];\n});\n\n// Update the URL when the checkbox is changed\nconst checkboxChanged = () => {\n  setFilter('category', selectedTerms.value);\n};\n</script>\n\n<template>\n  <div v-if=\"terms.length\">\n    <div class=\"cursor-pointer flex font-semibold mt-8 justify-between items-center\" @click=\"isOpen = !isOpen\">\n      <span>{{ label || $t('messages.shop.category', 2) }}</span>\n      <Icon name=\"ion:chevron-down-outline\" class=\"transform\" :class=\"isOpen ? 'rotate-180' : ''\" />\n    </div>\n    <div v-show=\"isOpen\" class=\"mt-3 mr-1 max-h-[240px] grid gap-1.5 overflow-auto custom-scrollbar\">\n      <div v-for=\"term in terms\" :key=\"term.slug\" class=\"flex gap-2 items-start\">\n        <input :id=\"term.slug\" v-model=\"selectedTerms\" type=\"checkbox\" :value=\"term.slug\" @change=\"checkboxChanged\" />\n        <label :for=\"term.slug\" class=\"cursor-pointer m-0 text-sm flex-1 leading-tight\">\n          <span v-html=\"term.name\" />\n          <small v-if=\"showCount\" class=\"ml-1 text-stone-400 tabular-nums\" aria-hidden=\"true\">({{ term.count || 0 }})</small>\n        </label>\n      </div>\n    </div>\n  </div>\n</template>\n","<script setup lang=\"ts\">\nconst { getFilter, setFilter, isFiltersActive } = useFiltering();\n\nconst { attribute } = defineProps({\n  attribute: { type: Object, required: true },\n});\n\nconst selectedTerms = ref(getFilter(attribute.slug) || []);\nconst filterTitle = ref(attribute.label || attribute.slug);\nconst isOpen = ref(attribute.openByDefault);\n\nwatch(isFiltersActive, () => {\n  // uncheck all checkboxes when filters are cleared\n  if (!isFiltersActive.value) selectedTerms.value = [];\n});\n\n// Update the URL when the checkbox is changed\nconst checkboxChanged = () => {\n  setFilter(attribute.slug, selectedTerms.value);\n};\n</script>\n\n<template>\n  <div class=\"cursor-pointer flex font-semibold mt-8 leading-none justify-between items-center\" @click=\"isOpen = !isOpen\">\n    <span>{{ filterTitle }}</span>\n    <Icon name=\"ion:chevron-down-outline\" class=\"transform\" :class=\"isOpen ? 'rotate-180' : ''\" />\n  </div>\n  <div v-show=\"isOpen\" class=\"mt-3 mr-6 max-h-[240px] grid gap-1.5 swatches overflow-auto custom-scrollbar\">\n    <div v-for=\"color in attribute.terms\" :key=\"color.slug\" :style=\"{ '--color': color.slug }\" :title=\"color.name\">\n      <input :id=\"color.slug\" v-model=\"selectedTerms\" class=\"hidden\" type=\"checkbox\" :value=\"color.slug\" @change=\"checkboxChanged\" />\n      <label :for=\"color.slug\" class=\"cursor-pointer m-0\"></label>\n    </div>\n  </div>\n</template>\n\n<style scoped lang=\"postcss\">\n.swatches {\n  grid-template-columns: repeat(auto-fit, minmax(24px, 1fr));\n}\n\n.swatches label {\n  @apply rounded-md cursor-pointer shadow-sm m-0 mb-1 w-full block relative;\n  background-color: var(--color, #eee);\n  filter: saturate(0.75);\n  aspect-ratio: 1/1;\n  transition: all 0.2s ease;\n}\n\n.swatches label:hover,\n.swatches input:checked + label {\n  filter: saturate(1);\n}\n\n/* tick */\n.swatches input:checked + label::after {\n  content: '';\n  width: 25%;\n  height: 40%;\n  border-right: 2.5px solid #fff;\n  border-bottom: 2.5px solid #fff;\n  position: absolute;\n  top: 45%;\n  left: 50%;\n  transform: translate(-50%, -50%) rotate(45deg);\n}\n\n/* Make tick black if the color is white */\n.swatches input:checked + label[for='white']::after,\n.swatches input:checked + label[for='yellow']::after {\n  border-color: #666;\n}\n</style>\n","<script setup lang=\"ts\">\nconst { getFilter, setFilter, isFiltersActive } = useFiltering();\n\nconst { attribute } = defineProps({\n  attribute: { type: Object, required: true },\n});\n\nconst selectedTerms = ref(getFilter(attribute.slug) || []);\nconst filterTitle = ref(attribute.label || attribute.slug);\nconst isOpen = ref(attribute.openByDefault);\n\nwatch(isFiltersActive, () => {\n  // uncheck all checkboxes when filters are cleared\n  if (!isFiltersActive.value) selectedTerms.value = [];\n});\n\n// Update the URL when the checkbox is changed\nconst checkboxChanged = () => {\n  setFilter(attribute.slug, selectedTerms.value);\n};\n</script>\n\n<template>\n  <div class=\"cursor-pointer flex font-semibold mt-8 leading-none justify-between items-center\" @click=\"isOpen = !isOpen\">\n    <span>{{ filterTitle }}</span>\n    <Icon name=\"ion:chevron-down-outline\" class=\"transform\" :class=\"isOpen ? 'rotate-180' : ''\" />\n  </div>\n  <div v-show=\"isOpen\" class=\"mt-3 mr-1 max-h-[240px] grid gap-1 overflow-auto custom-scrollbar\">\n    <div v-for=\"term in attribute.terms\" :key=\"term.slug\" class=\"flex gap-2 items-center\">\n      <input :id=\"term.slug\" v-model=\"selectedTerms\" type=\"checkbox\" :value=\"term.slug\" @change=\"checkboxChanged\" />\n      <label :for=\"term.slug\" class=\"cursor-pointer m-0 text-sm flex items-center flex-wrap\">\n        <span v-html=\"term.name\" />\n        <small v-if=\"attribute.showCount\" class=\"ml-1 text-stone-400 tabular-nums\" aria-hidden=\"true\">({{ term.count || 0 }})</small>\n      </label>\n    </div>\n  </div>\n</template>\n","<script setup>\nconst { getFilter, setFilter, isFiltersActive } = useFiltering();\nconst selectedTerms = ref(getFilter('sale') || []);\n\nconst isOpen = ref(true);\n\nwatch(isFiltersActive, () => {\n  // uncheck all radio boxes when filters are cleared\n  if (!isFiltersActive.value) selectedTerms.value = [];\n});\n\nconst checkboxClicked = (e) => {\n  if (selectedTerms.value.length === 0) {\n    selectedTerms.value = [e.target.value];\n    setFilter('sale', [e.target.value]);\n  } else {\n    selectedTerms.value = [];\n    setFilter('sale', []);\n  }\n};\n</script>\n\n<template>\n  <div>\n    <div class=\"cursor-pointer flex font-semibold mt-8 leading-none justify-between items-center\" @click=\"isOpen = !isOpen\">\n      <span>Csak leárazott termékek</span>\n      <Icon name=\"ion:chevron-down-outline\" class=\"transform\" :class=\"isOpen ? 'rotate-180' : ''\" />\n    </div>\n    <div v-if=\"isOpen\" class=\"mt-3 mr-1 max-h-[240px] grid gap-1 overflow-auto custom-scrollbar\">\n      <div class=\"flex gap-2 items-center\">\n        <label for=\"sale-true\" class=\"cursor-pointer m-0 text-sm sr-only\" aria-label=\"Only show products on sale\"> Only show products on sale</label>\n        <input id=\"sale-true\" v-model=\"selectedTerms\" type=\"checkbox\" :value=\"true\" aria-label=\"Sale Products Only\" @click=\"checkboxClicked\" />\n      </div>\n    </div>\n  </div>\n</template>\n","<script setup lang=\"ts\">\nimport { TaxonomyEnum } from '#woo';\nimport { ref, onMounted } from 'vue';\n\n// Update interfaces to match GraphQL response structure\ninterface GraphQLTerm {\n  taxonomyName?: string | null;\n  name?: string | null;\n  slug?: string | null;\n  count?: number | null;\n}\n\ninterface Term {\n  taxonomyName: string;\n  name: string;\n  slug: string;\n  count: number;\n}\n\ninterface WooNuxtFilter {\n  slug: string;\n  name: string;\n  terms?: Term[];\n}\n\nconst { isFiltersActive } = useFiltering();\nconst { removeBodyClass } = useHelpers();\nconst runtimeConfig = useRuntimeConfig();\nconst { storeSettings } = useAppConfig();\n\nconst { hideCategories } = defineProps({ hideCategories: { type: Boolean, default: false } });\n\nconst globalProductAttributes = (runtimeConfig?.public?.GLOBAL_PRODUCT_ATTRIBUTES as WooNuxtFilter[]) || [];\nconst taxonomies = globalProductAttributes.map((attr) => attr?.slug?.toUpperCase().replace('_', '')) as TaxonomyEnum[];\n\n// Create reactive references with proper typing\nconst terms = ref<Term[]>([]);\nconst productCategoryTerms = ref<Term[]>([]);\nconst attributesWithTerms = ref<WooNuxtFilter[]>([]);\nconst isLoading = ref(true);\n\n// Helper function to transform GraphQL term to our Term type\nconst transformTerm = (graphqlTerm: GraphQLTerm): Term => ({\n  taxonomyName: graphqlTerm.taxonomyName || '',\n  name: graphqlTerm.name || '',\n  slug: graphqlTerm.slug || '',\n  count: graphqlTerm.count || 0\n});\n\nonMounted(async () => {\n  try {\n    isLoading.value = true;\n    const { data } = await useAsyncGql('getAllTerms', { \n      taxonomies: [...taxonomies, TaxonomyEnum.PRODUCTCATEGORY] \n    });\n    \n    // Transform the GraphQL response to our Term type\n    const graphqlTerms = data.value?.terms?.nodes as GraphQLTerm[] || [];\n    terms.value = graphqlTerms.map(transformTerm);\n    \n    productCategoryTerms.value = terms.value.filter(\n      (term) => term.taxonomyName === 'product_cat'\n    );\n    \n    attributesWithTerms.value = globalProductAttributes.map((attr) => ({\n      ...attr,\n      terms: terms.value.filter((term) => term.taxonomyName === attr.slug)\n    }));\n  } catch (error) {\n    console.error('Error fetching terms:', error);\n  } finally {\n    isLoading.value = false;\n  }\n});\n\nconst placeholderCount = 4;\nconst placeholderItems = Array(placeholderCount).fill(null);\n</script>\n\n<template>\n  <aside id=\"filters\">\n    <OrderByDropdown class=\"block w-full md:hidden\" />\n    <div class=\"relative z-30 grid mb-12 space-y-8 divide-y\">\n      <PriceFilter />\n      \n      <!-- Loading State -->\n      <template v-if=\"isLoading\">\n        <div \n          v-for=\"(_, index) in placeholderItems\" \n          :key=\"index\"\n          class=\"py-6 animate-pulse\"\n        >\n          <div class=\"flex items-center mb-4\">\n            <div class=\"w-24 h-5 bg-gray-200 rounded\"/>\n          </div>\n          <div class=\"space-y-3\">\n            <div \n              v-for=\"i in 3\" \n              :key=\"i\"\n              class=\"flex items-center gap-2\"\n            >\n              <div class=\"w-4 h-4 bg-gray-200 rounded\"/>\n              <div class=\"w-20 h-4 bg-gray-200 rounded\"/>\n            </div>\n          </div>\n        </div>\n      </template>\n\n      <!-- Actual Content -->\n      <template v-else>\n        <CategoryFilter \n          v-if=\"!hideCategories\" \n          :terms=\"productCategoryTerms\" \n        />\n        <div \n          v-for=\"attribute in attributesWithTerms\" \n          :key=\"attribute.slug\"\n        >\n          <ColorFilter \n            v-if=\"attribute.slug == 'pa_color' || attribute.slug == 'pa_colour'\" \n            :attribute=\"attribute\" \n          />\n          <GlobalFilter \n            v-else \n            :attribute=\"attribute\" \n          />\n        </div>\n        <OnSaleFilter />\n        <LazyStarRatingFilter v-if=\"storeSettings.showReviews\" />\n        <LazyResetFiltersButton v-if=\"isFiltersActive\" />\n      </template>\n    </div>\n  </aside>\n  <div \n    class=\"fixed inset-0 z-50 hidden bg-black opacity-25 filter-overlay\" \n    @click=\"removeBodyClass('show-filters')\"\n  />\n</template>\n\n<style lang=\"postcss\">\n.show-filters .filter-overlay {\n  @apply block;\n}\n.show-filters {\n  overflow: hidden;\n}\n\n#filters {\n  @apply w-[280px];\n\n  & .slider-connect {\n    @apply bg-primary;\n  }\n\n  &::-webkit-scrollbar {\n    display: none;\n  }\n\n  input[type='checkbox'],\n  input[type='radio'] {\n    @apply bg-white border rounded-lg cursor-pointer font-sans outline-none border-stone-300 w-full p-3 transition-all duration-150 appearance-none hover:border-primary;\n\n    width: 1em;\n    height: 1em;\n    position: relative;\n    cursor: pointer;\n    border-radius: 4px;\n    padding: 0;\n  }\n\n  input[type='radio'] {\n    border-radius: 50%;\n  }\n\n  input[type='checkbox']:after,\n  input[type='radio']:after {\n    content: '';\n    display: block;\n    opacity: 0;\n    transition: all 250ms cubic-bezier(0.65, -0.43, 0.4, 1.71);\n  }\n\n  input[type='checkbox']:after {\n    width: 5px;\n    height: 9px;\n    border: 2px solid #fff;\n    border-top: 0;\n    border-left: 0;\n    transform: rotate(0deg) translate(-1px, 1px) scale(0.75);\n    position: absolute;\n    top: 3px;\n    left: 6.5px;\n  }\n\n  input[type='radio']:after {\n    width: 6px;\n    height: 6px;\n    border-radius: 50%;\n    transform: scale(0);\n    position: absolute;\n    background: #fff;\n    top: 4px;\n    left: 4px;\n  }\n\n  input[type='checkbox']:checked:after,\n  input[type='checkbox'] + label,\n  input[type='radio'] + label {\n    @apply cursor-pointer text-stone-600 hover:text-primary;\n  }\n\n  input[type='checkbox']:checked + label,\n  input[type='radio']:checked + label {\n    @apply text-stone-800 hover:text-dark;\n  }\n\n  input[type='checkbox']:checked,\n  input[type='radio']:checked {\n    @apply bg-primary border-0;\n  }\n\n  input[type='checkbox']:checked:after {\n    opacity: 1;\n    transform: rotate(45deg) translate(-1px, 1px) scale(1);\n  }\n\n  input[type='radio']:checked:after {\n    opacity: 1;\n    transform: scale(1);\n  }\n}\n\n.price-input {\n  @apply border rounded-xl outline-none leading-tight w-full p-2 transition-all;\n\n  &.active {\n    @apply border-stone-400 pl-6;\n  }\n}\n\n@media (max-width: 768px) {\n  #filters {\n    @apply bg-white h-full p-8 transform pl-2 transition-all ease-in-out bottom-0 left-4 -translate-x-[110vw] duration-300 overflow-auto fixed;\n\n    box-shadow:\n      -100px 0 0 white,\n      -200px 0 0 white,\n      -300px 0 0 white;\n    z-index: 60;\n  }\n\n  .show-filters #filters {\n    @apply transform-none;\n  }\n}\n</style>","<script setup lang=\"ts\">\nconst route = useRoute();\nconst { products } = useProducts();\nconst { productsPerPage } = useHelpers();\nconst page = ref(parseInt(route.params.pageNumber as string) || 1);\n</script>\n\n<template>\n  <div v-if=\"products?.length !== 0\" class=\"text-sm font-light\">\n    <span>{{ $t('messages.shop.productResultCount.showing') + ' ' }}</span>\n    <span class=\"font-normal\">{{ (page - 1) * productsPerPage + 1 + ' ' }}</span>\n    <span>{{ $t('messages.shop.productResultCount.to') + ' ' }}</span>\n    <span class=\"font-normal\">{{ Math.min(page * productsPerPage, products?.length) + ' ' }}</span>\n    (<span>{{ $t('messages.shop.productResultCount.of') }}</span> <span class=\"font-normal\">{{ products?.length }}</span\n    >)\n  </div>\n</template>\n","<script setup>\nconst { toggleBodyClass, removeBodyClass } = useHelpers();\nconst { isFiltersActive } = await useFiltering();\nonBeforeUnmount(() => {\n  removeBodyClass('show-filters');\n});\n</script>\n\n<template>\n  <div class=\"relative inline-flex -space-x-px shadow-sm rounded-m isolate\">\n    <button\n      class=\"relative inline-flex items-center p-2 text-sm text-stone-500 bg-white border border-stone-300 rounded-md hover:bg-stone-50 focus:z-20\"\n      aria-label=\"Show filters\"\n      @click.prevent=\"toggleBodyClass('show-filters')\"\n      title=\"Show filters\">\n      <Icon name=\"ion:funnel-outline\" size=\"18\" class=\"transition-transform transform transform-origin-center\" />\n    </button>\n    <span class=\"absolute z-20 w-2.5 h-2.5 rounded-full bg-primary -top-1 -right-1\" v-if=\"isFiltersActive\" />\n  </div>\n</template>\n","<script setup lang=\"ts\">\nconst route = useRoute();\nconst { productsPerPage } = useHelpers();\nconst { products } = useProducts();\n\n// TODO: Refactor all this logic. It's a mess.\nconst currentQuery = computed(() => {\n  const query = route.query;\n  const queryKeys = Object.keys(query);\n  let currentQuery = '';\n  if (queryKeys.length > 0) {\n    queryKeys.forEach((key, index) => {\n      currentQuery += index === 0 ? `${key}=${query[key]}` : `&${key}=${query[key]}`;\n    });\n  }\n  return decodeURIComponent(currentQuery);\n});\n\nconst page = ref(route.params.pageNumber ? parseInt(route.params.pageNumber as string) : 1);\nconst numberOfPages = computed<number>(() => Math.ceil(products.value.length / productsPerPage || 1));\n\nconst prevSrc = (pageNumber: number) => {\n  if (currentQuery.value === '') {\n    return decodeURIComponent(`/products/page/${pageNumber > 1 ? pageNumber - 1 : pageNumber}`);\n  } else {\n    return decodeURIComponent(\n      pageNumber > 1 ? `/products/page/${pageNumber - 1}/?${currentQuery.value}` : `/products/page/${pageNumber}/?${currentQuery.value}`,\n    );\n  }\n};\n\nconst nextSrc = (pageNumber: number) => {\n  if (currentQuery.value === '') {\n    return decodeURIComponent(`/products/page/${pageNumber < numberOfPages.value ? pageNumber + 1 : pageNumber}`);\n  } else {\n    return decodeURIComponent(\n      pageNumber < numberOfPages.value ? `/products/page/${pageNumber + 1}/?${currentQuery.value}` : `/products/page/${pageNumber}/?${currentQuery.value}`,\n    );\n  }\n};\n\nconst numberSrc = (pageNumber: number) => {\n  if (currentQuery.value === '') {\n    return decodeURIComponent(`/products/page/${pageNumber}`);\n  } else {\n    return decodeURIComponent(`/products/page/${pageNumber}/?${currentQuery.value}`);\n  }\n};\n</script>\n\n<template>\n  <div class=\"flex justify-center mt-8 mb-16 col-span-full tabular-nums\">\n    <!-- Pagination -->\n    <nav v-if=\"numberOfPages && numberOfPages > 1\" class=\"inline-flex self-end -space-x-px rounded-md shadow-sm isolate\" aria-label=\"Pagination\">\n      <!-- PREV -->\n      <NuxtLink\n        :to=\"prevSrc(page)\"\n        class=\"prev\"\n        :disabled=\"page == 1\"\n        :class=\"{ 'cursor-not-allowed': page == 1 }\"\n        :aria-disabled=\"page == 1\"\n        aria-label=\"Previous\">\n        <Icon name=\"ion:chevron-back-outline\" size=\"20\" class=\"w-5 h-5\" />\n      </NuxtLink>\n\n      <!-- NUMBERS -->\n      <NuxtLink\n        v-for=\"pageNumber in numberOfPages\"\n        :key=\"pageNumber\"\n        :to=\"numberSrc(pageNumber)\"\n        :aria-current=\"pageNumber === page ? 'page' : undefined\"\n        class=\"page-number\">\n        {{ pageNumber }}\n      </NuxtLink>\n\n      <!-- NEXT -->\n      <NuxtLink\n        :to=\"nextSrc(page)\"\n        class=\"next\"\n        :disabled=\"page === numberOfPages\"\n        :class=\"{ 'cursor-not-allowed': page === numberOfPages }\"\n        :aria-disabled=\"page === numberOfPages\"\n        aria-label=\"Next\">\n        <Icon name=\"ion:chevron-forward-outline\" size=\"20\" class=\"w-5 h-5\" />\n      </NuxtLink>\n    </nav>\n  </div>\n</template>\n\n<style lang=\"postcss\" scoped>\n.prev,\n.next,\n.page-number {\n  @apply bg-white border font-medium border-stone-300 text-sm p-2 text-stone-500 relative inline-flex items-center hover:bg-stone-50 focus:z-10;\n}\n\n.prev {\n  @apply rounded-l-md;\n}\n\n.next {\n  @apply rounded-r-md;\n}\n\n.page-number {\n  @apply px-3;\n}\n\n.page-number[aria-current='page'] {\n  @apply bg-primary border-primary border bg-opacity-10 text-primary z-10;\n}\n</style>\n","<script setup lang=\"ts\">\nconst { allProducts } = useProducts();\nconst { clearSearchQuery } = useSearching();\nconst { resetFilter } = useFiltering();\n\nconst clearAll = () => {\n  resetFilter();\n  clearSearchQuery();\n};\n</script>\n\n<template>\n  <div class=\"w-full my-16 lg:my-24\">\n    <div class=\"flex flex-col items-center justify-center w-full text-center text-pretty\">\n      <Icon name=\"ion:sad-outline\" size=\"156\" class=\"opacity-25 mb-10\" />\n      <h2 class=\"text-2xl font-bold\">{{ $t('messages.shop.noProductsFound.title') }}</h2>\n      <p class=\"mt-4 max-w-md\">\n        <slot>{{ $t('messages.shop.noProductsFound.subText') }}</slot>\n      </p>\n      <div>\n        <button\n          v-if=\"allProducts.length\"\n          class=\"button button-primary mt-8\"\n          :title=\"$t('messages.shop.noProductsFound.clearFiltersAndSearch')\"\n          aria-label=\"Clear all filters and search\"\n          @click=\"clearAll\">\n          {{ $t('messages.shop.noProductsFound.clearFiltersAndSearch') }}\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n","<script setup lang=\"ts\">\nconst route = useRoute();\nconst { productsPerPage } = useHelpers();\nconst { products } = useProducts();\nconst page = ref(parseInt(route.params.pageNumber as string) || 1);\nconst productsToShow = computed(() => products.value.slice((page.value - 1) * productsPerPage, page.value * productsPerPage));\n</script>\n\n<template>\n  <Transition name=\"fade\" mode=\"out-in\">\n    <section v-if=\"!!products.length\" class=\"relative w-full\">\n      <TransitionGroup name=\"shrink\" tag=\"div\" mode=\"in-out\" class=\"product-grid\">\n        <ProductCard v-for=\"(node, i) in productsToShow\" :key=\"node.id || i\" :node :index=\"i\" />\n      </TransitionGroup>\n      <Pagination />\n    </section>\n    <NoProductsFound v-else />\n  </Transition>\n</template>\n\n<style lang=\"postcss\" scoped>\n.product-grid {\n  @apply my-4 grid transition-all gap-8 lg:my-8;\n\n  grid-template-columns: repeat(2, 1fr);\n}\n.product-grid:empty {\n  display: none;\n}\n\n@media (min-width: 768px) {\n  .product-grid {\n    grid-template-columns: repeat(auto-fill, minmax(400px, 1fr));\n  }\n}\n\n@media (min-width: 300px) {\n  .product-grid {\n    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\n  }\n}\n\n.shrink-move {\n  transition: all 400ms;\n}\n\n.shrink-leave-active {\n  transition: transform 300ms;\n  position: absolute;\n  opacity: 0;\n}\n\n.shrink-enter-active {\n  transition:\n    opacity 400ms ease-out 200ms,\n    transform 400ms ease-out;\n  will-change: opacity, transform;\n}\n\n.shrink-enter,\n.shrink-leave-to,\n.shrink-enter-from {\n  opacity: 0;\n  transform: scale(0.75) translateY(25%);\n}\n</style>\n"],"names":["_withAsyncContext","_a","currentQuery"],"mappings":"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"}